!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.ES6Promise=t()}(this,function(){"use strict";function c(e){return"function"==typeof e}function t(){var e=setTimeout;return function(){return e(r,1)}}function r(){for(var e=0;e<w;e+=2){(0,j[e])(j[e+1]),j[e]=void 0,j[e+1]=void 0}w=0}function s(e,t){var r=this,i=new this.constructor(u);void 0===i[T]&&b(i);var n=r._state;if(n){var o=arguments[n-1];_(function(){return v(n,i,o,r._result)})}else m(r,i,e,t);return i}function a(e){if(e&&"object"==typeof e&&e.constructor===this)return e;var t=new this(u);return p(t,e),t}function u(){}function f(e){try{return e.then}catch(e){return N.error=e,N}}function l(e,t,r){t.constructor===e.constructor&&r===s&&t.constructor.resolve===a?function(t,e){e._state===C?d(t,e._result):e._state===D?h(t,e._result):m(e,void 0,function(e){return p(t,e)},function(e){return h(t,e)})}(e,t):r===N?(h(e,N.error),N.error=null):void 0===r?d(e,t):c(r)?function(e,i,n){_(function(t){var r=!1,e=function(e,t,r,i){try{e.call(t,r,i)}catch(e){return e}}(n,i,function(e){r||(r=!0,i!==e?p(t,e):d(t,e))},function(e){r||(r=!0,h(t,e))},t._label);!r&&e&&(r=!0,h(t,e))},e)}(e,t,r):d(e,t)}function p(e,t){e===t?h(e,new TypeError("You cannot resolve a promise with itself")):function(e){var t=typeof e;return null!==e&&("object"==t||"function"==t)}(t)?l(e,t,f(t)):d(e,t)}function i(e){e._onerror&&e._onerror(e._result),g(e)}function d(e,t){e._state===R&&(e._result=t,e._state=C,0!==e._subscribers.length&&_(g,e))}function h(e,t){e._state===R&&(e._state=D,e._result=t,_(i,e))}function m(e,t,r,i){var n=e._subscribers,o=n.length;e._onerror=null,n[o]=t,n[o+C]=r,n[o+D]=i,0===o&&e._state&&_(g,e)}function g(e){var t=e._subscribers,r=e._state;if(0!==t.length){for(var i=void 0,n=void 0,o=e._result,s=0;s<t.length;s+=3)i=t[s],n=t[s+r],i?v(r,i,n,o):n(o);e._subscribers.length=0}}function v(e,t,r,i){var n=c(r),o=void 0,s=void 0,a=void 0,u=void 0;if(n){if((o=function(e,t){try{return e(t)}catch(e){return N.error=e,N}}(r,i))===N?(u=!0,s=o.error,o.error=null):a=!0,t===o)return void h(t,new TypeError("A promises callback cannot return that same promise."))}else o=i,a=!0;t._state!==R||(n&&a?p(t,o):u?h(t,s):e===C?d(t,o):e===D&&h(t,o))}function b(e){e[T]=B++,e._state=void 0,e._result=void 0,e._subscribers=[]}var e,n,o,x,y=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},w=0,E=void 0,q=void 0,_=function(e,t){j[w]=e,j[w+1]=t,2===(w+=2)&&(q?q(r):P())},S="undefined"!=typeof window?window:void 0,M=S||{},k=M.MutationObserver||M.WebKitMutationObserver,O="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),A="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,j=new Array(1e3),P=void 0;P=O?function(){return process.nextTick(r)}:k?(n=0,o=new k(r),x=document.createTextNode(""),o.observe(x,{characterData:!0}),function(){x.data=n=++n%2}):A?((e=new MessageChannel).port1.onmessage=r,function(){return e.port2.postMessage(0)}):void 0===S&&"function"==typeof require?function(){try{var e=Function("return this")().require("vertx");return void 0!==(E=e.runOnLoop||e.runOnContext)?function(){E(r)}:t()}catch(e){return t()}}():t();var T=Math.random().toString(36).substring(2),R=void 0,C=1,D=2,N={error:null},B=0,U=function(){function e(e,t){this._instanceConstructor=e,this.promise=new e(u),this.promise[T]||b(this.promise),y(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?d(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&d(this.promise,this._result))):h(this.promise,new Error("Array Methods must be provided an Array"))}return e.prototype._enumerate=function(e){for(var t=0;this._state===R&&t<e.length;t++)this._eachEntry(e[t],t)},e.prototype._eachEntry=function(t,e){var r=this._instanceConstructor,i=r.resolve;if(i===a){var n=f(t);if(n===s&&t._state!==R)this._settledAt(t._state,e,t._result);else if("function"!=typeof n)this._remaining--,this._result[e]=t;else if(r===F){var o=new r(u);l(o,t,n),this._willSettleAt(o,e)}else this._willSettleAt(new r(function(e){return e(t)}),e)}else this._willSettleAt(i(t),e)},e.prototype._settledAt=function(e,t,r){var i=this.promise;i._state===R&&(this._remaining--,e===D?h(i,r):this._result[t]=r),0===this._remaining&&d(i,this._result)},e.prototype._willSettleAt=function(e,t){var r=this;m(e,void 0,function(e){return r._settledAt(C,t,e)},function(e){return r._settledAt(D,t,e)})},e}(),F=function(){function t(e){this[T]=B++,this._result=this._state=void 0,this._subscribers=[],u!==e&&("function"!=typeof e&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof t?function(t,e){try{e(function(e){p(t,e)},function(e){h(t,e)})}catch(e){h(t,e)}}(this,e):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return t.prototype.catch=function(e){return this.then(null,e)},t.prototype.finally=function(t){var r=this.constructor;return this.then(function(e){return r.resolve(t()).then(function(){return e})},function(e){return r.resolve(t()).then(function(){throw e})})},t}();return F.prototype.then=s,F.all=function(e){return new U(this,e).promise},F.race=function(n){var o=this;return new o(y(n)?function(e,t){for(var r=n.length,i=0;i<r;i++)o.resolve(n[i]).then(e,t)}:function(e,t){return t(new TypeError("You must pass an array to race."))})},F.resolve=a,F.reject=function(e){var t=new this(u);return h(t,e),t},F._setScheduler=function(e){q=e},F._setAsap=function(e){_=e},F._asap=_,F.polyfill=function(){var e=void 0;if("undefined"!=typeof global)e=global;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var r=null;try{r=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===r&&!t.cast)return}e.Promise=F},(F.Promise=F).polyfill(),F});var requirejs,require,define;!function(global){var req,s,head,baseElement,dataMain,src,interactiveScript,currentlyAddingScript,mainScript,subPath,version="2.2.0",commentRegExp=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/gm,cjsRequireRegExp=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,jsSuffixRegExp=/\.js$/,currDirRegExp=/^\.\//,op=Object.prototype,ostring=op.toString,hasOwn=op.hasOwnProperty,isBrowser=!("undefined"==typeof window||"undefined"==typeof navigator||!window.document),isWebWorker=!isBrowser&&"undefined"!=typeof importScripts,readyRegExp=isBrowser&&"PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/,defContextName="_",isOpera="undefined"!=typeof opera&&"[object Opera]"===opera.toString(),contexts={},cfg={},globalDefQueue=[],useInteractive=!1;function commentReplace(e,t,r,i){return i||""}function isFunction(e){return"[object Function]"===ostring.call(e)}function isArray(e){return"[object Array]"===ostring.call(e)}function each(e,t){if(e){var r;for(r=0;r<e.length&&(!e[r]||!t(e[r],r,e));r+=1);}}function eachReverse(e,t){if(e){var r;for(r=e.length-1;-1<r&&(!e[r]||!t(e[r],r,e));r-=1);}}function hasProp(e,t){return hasOwn.call(e,t)}function getOwn(e,t){return hasProp(e,t)&&e[t]}function eachProp(e,t){var r;for(r in e)if(hasProp(e,r)&&t(e[r],r))break}function mixin(r,e,i,n){e&&eachProp(e,function(e,t){if(i||!hasProp(r,t))if(!n||"object"!=typeof e||!e||isArray(e)||isFunction(e)||e instanceof RegExp)r[t]=e;else{r[t]||(r[t]={});mixin(r[t],e,i,n)}});return r}function bind(e,t){return function(){return t.apply(e,arguments)}}function scripts(){return document.getElementsByTagName("script")}function defaultOnError(e){throw e}function getGlobal(e){if(!e)return e;var t=global;each(e.split("."),function(e){t=t[e]});return t}function makeError(e,t,r,i){var n=new Error(t+"\nhttp://requirejs.org/docs/errors.html#"+e);n.requireType=e;n.requireModules=i;r&&(n.originalError=r);return n}if(void 0===define){if(void 0!==requirejs){if(isFunction(requirejs))return;cfg=requirejs;requirejs=void 0}if(void 0!==require&&!isFunction(require)){cfg=require;require=void 0}req=requirejs=function(e,t,r,i){var n,o,s=defContextName;if(!isArray(e)&&"string"!=typeof e){o=e;if(isArray(t)){e=t;t=r;r=i}else e=[]}o&&o.context&&(s=o.context);(n=getOwn(contexts,s))||(n=contexts[s]=req.s.newContext(s));o&&n.configure(o);return n.require(e,t,r)};req.config=function(e){return req(e)};req.nextTick="undefined"!=typeof setTimeout?function(e){setTimeout(e,4)}:function(e){e()};require||(require=req);req.version=version;req.jsExtRegExp=/^\/|:|\?|\.js$/;req.isBrowser=isBrowser;s=req.s={contexts:contexts,newContext:newContext};req({});each(["toUrl","undef","defined","specified"],function(t){req[t]=function(){var e=contexts[defContextName];return e.require[t].apply(e,arguments)}});if(isBrowser){head=s.head=document.getElementsByTagName("head")[0];baseElement=document.getElementsByTagName("base")[0];baseElement&&(head=s.head=baseElement.parentNode)}req.onError=defaultOnError;req.createNode=function(e,t,r){var i=e.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script");i.type=e.scriptType||"text/javascript";i.charset="utf-8";i.async=!0;return i};req.load=function(t,r,i){var e,n=t&&t.config||{};if(isBrowser){(e=req.createNode(n,r,i)).setAttribute("data-requirecontext",t.contextName);e.setAttribute("data-requiremodule",r);if(!e.attachEvent||e.attachEvent.toString&&e.attachEvent.toString().indexOf("[native code")<0||isOpera){e.addEventListener("load",t.onScriptLoad,!1);e.addEventListener("error",t.onScriptError,!1)}else{useInteractive=!0;e.attachEvent("onreadystatechange",t.onScriptLoad)}e.src=i;n.onNodeCreated&&n.onNodeCreated(e,n,r,i);currentlyAddingScript=e;baseElement?head.insertBefore(e,baseElement):head.appendChild(e);currentlyAddingScript=null;return e}if(isWebWorker)try{setTimeout(function(){},0);importScripts(i);t.completeLoad(r)}catch(e){t.onError(makeError("importscripts","importScripts failed for "+r+" at "+i,e,[r]))}};isBrowser&&!cfg.skipDataMain&&eachReverse(scripts(),function(e){head||(head=e.parentNode);if(dataMain=e.getAttribute("data-main")){mainScript=dataMain;if(!cfg.baseUrl&&-1===mainScript.indexOf("!")){mainScript=(src=mainScript.split("/")).pop();subPath=src.length?src.join("/")+"/":"./";cfg.baseUrl=subPath}mainScript=mainScript.replace(jsSuffixRegExp,"");req.jsExtRegExp.test(mainScript)&&(mainScript=dataMain);cfg.deps=cfg.deps?cfg.deps.concat(mainScript):[mainScript];return!0}});define=function(e,r,t){var i,n;if("string"!=typeof e){t=r;r=e;e=null}if(!isArray(r)){t=r;r=null}if(!r&&isFunction(t)){r=[];if(t.length){t.toString().replace(commentRegExp,commentReplace).replace(cjsRequireRegExp,function(e,t){r.push(t)});r=(1===t.length?["require"]:["require","exports","module"]).concat(r)}}if(useInteractive&&(i=currentlyAddingScript||getInteractiveScript())){e||(e=i.getAttribute("data-requiremodule"));n=contexts[i.getAttribute("data-requirecontext")]}if(n){n.defQueue.push([e,r,t]);n.defQueueMap[e]=!0}else globalDefQueue.push([e,r,t])};define.amd={jQuery:!0};req.exec=function(text){return eval(text)};req(cfg)}function newContext(u){var r,e,d,c,f,g={waitSeconds:7,baseUrl:"./",paths:{},bundles:{},pkgs:{},shim:{},config:{}},l={},p={},i={},h=[],m={},n={},v={},b=1,x=1;function y(e,t,r){var i,n,o,s,a,u,c,f,l,p,d=t&&t.split("/"),h=g.map,m=h&&h["*"];if(e){u=(e=e.split("/")).length-1;g.nodeIdCompat&&jsSuffixRegExp.test(e[u])&&(e[u]=e[u].replace(jsSuffixRegExp,""));"."===e[0].charAt(0)&&d&&(e=d.slice(0,d.length-1).concat(e));!function(e){var t,r;for(t=0;t<e.length;t++)if("."===(r=e[t])){e.splice(t,1);t-=1}else if(".."===r){if(0===t||1===t&&".."===e[2]||".."===e[t-1])continue;if(0<t){e.splice(t-1,2);t-=2}}}(e);e=e.join("/")}if(r&&h&&(d||m)){e:for(o=(n=e.split("/")).length;0<o;o-=1){a=n.slice(0,o).join("/");if(d)for(s=d.length;0<s;s-=1)if((i=getOwn(h,d.slice(0,s).join("/")))&&(i=getOwn(i,a))){c=i;f=o;break e}if(!l&&m&&getOwn(m,a)){l=getOwn(m,a);p=o}}if(!c&&l){c=l;f=p}if(c){n.splice(0,f,c);e=n.join("/")}}return getOwn(g.pkgs,e)||e}function w(t){isBrowser&&each(scripts(),function(e){if(e.getAttribute("data-requiremodule")===t&&e.getAttribute("data-requirecontext")===d.contextName){e.parentNode.removeChild(e);return!0}})}function E(e){var t=getOwn(g.paths,e);if(t&&isArray(t)&&1<t.length){t.shift();d.require.undef(e);d.makeRequire(null,{skipMap:!0})([e]);return!0}}function q(e){var t,r=e?e.indexOf("!"):-1;if(-1<r){t=e.substring(0,r);e=e.substring(r+1,e.length)}return[t,e]}function _(e,t,r,i){var n,o,s,a,u=null,c=t?t.name:null,f=e,l=!0,p="";if(!e){l=!1;e="_@r"+(b+=1)}u=(a=q(e))[0];e=a[1];if(u){u=y(u,c,i);o=getOwn(m,u)}if(e)if(u)p=o&&o.normalize?o.normalize(e,function(e){return y(e,c,i)}):-1===e.indexOf("!")?y(e,c,i):e;else{u=(a=q(p=y(e,c,i)))[0];p=a[1];r=!0;n=d.nameToUrl(p)}return{prefix:u,name:p,parentMap:t,unnormalized:!!(s=!u||o||r?"":"_unnormalized"+(x+=1)),url:n,originalName:f,isDefine:l,id:(u?u+"!"+p:p)+s}}function S(e){var t=e.id,r=getOwn(l,t);r||(r=l[t]=new d.Module(e));return r}function M(e,t,r){var i=e.id,n=getOwn(l,i);!hasProp(m,i)||n&&!n.defineEmitComplete?(n=S(e)).error&&"error"===t?r(n.error):n.on(t,r):"defined"===t&&r(m[i])}function k(r,e){var t=r.requireModules,i=!1;if(e)e(r);else{each(t,function(e){var t=getOwn(l,e);if(t){t.error=r;if(t.events.error){i=!0;t.emit("error",r)}}});i||req.onError(r)}}function O(){if(globalDefQueue.length){each(globalDefQueue,function(e){var t=e[0];"string"==typeof t&&(d.defQueueMap[t]=!0);h.push(e)});globalDefQueue=[]}}c={require:function(e){return e.require?e.require:e.require=d.makeRequire(e.map)},exports:function(e){e.usingExports=!0;if(e.map.isDefine)return e.exports?m[e.map.id]=e.exports:e.exports=m[e.map.id]={}},module:function(e){return e.module?e.module:e.module={id:e.map.id,uri:e.map.url,config:function(){return getOwn(g.config,e.map.id)||{}},exports:e.exports||(e.exports={})}}};function A(e){delete l[e];delete p[e]}function j(){var e,i,t=1e3*g.waitSeconds,n=t&&d.startTime+t<(new Date).getTime(),o=[],s=[],a=!1,u=!0;if(!r){r=!0;eachProp(p,function(e){var t=e.map,r=t.id;if(e.enabled){t.isDefine||s.push(e);if(!e.error)if(!e.inited&&n)if(E(r))a=i=!0;else{o.push(r);w(r)}else if(!e.inited&&e.fetched&&t.isDefine){a=!0;if(!t.prefix)return u=!1}}});if(n&&o.length){(e=makeError("timeout","Load timeout for modules: "+o,null,o)).contextName=d.contextName;return k(e)}u&&each(s,function(e){!function n(o,s,a){var e=o.map.id;if(o.error)o.emit("error",o.error);else{s[e]=!0;each(o.depMaps,function(e,t){var r=e.id,i=getOwn(l,r);if(i&&!o.depMatched[t]&&!a[r])if(getOwn(s,r)){o.defineDep(t,m[r]);o.check()}else n(i,s,a)});a[e]=!0}}(e,{},{})});n&&!i||!a||!isBrowser&&!isWebWorker||f||(f=setTimeout(function(){f=0;j()},50));r=!1}}(e=function(e){this.events=getOwn(i,e.id)||{};this.map=e;this.shim=getOwn(g.shim,e.id);this.depExports=[];this.depMaps=[];this.depMatched=[];this.pluginMaps={};this.depCount=0}).prototype={init:function(e,t,r,i){i=i||{};if(!this.inited){this.factory=t;r?this.on("error",r):this.events.error&&(r=bind(this,function(e){this.emit("error",e)}));this.depMaps=e&&e.slice(0);this.errback=r;this.inited=!0;this.ignore=i.ignore;i.enabled||this.enabled?this.enable():this.check()}},defineDep:function(e,t){if(!this.depMatched[e]){this.depMatched[e]=!0;this.depCount-=1;this.depExports[e]=t}},fetch:function(){if(!this.fetched){this.fetched=!0;d.startTime=(new Date).getTime();var e=this.map;if(!this.shim)return e.prefix?this.callPlugin():this.load();d.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],bind(this,function(){return e.prefix?this.callPlugin():this.load()}))}},load:function(){var e=this.map.url;if(!n[e]){n[e]=!0;d.load(this.map.id,e)}},check:function(){if(this.enabled&&!this.enabling){var t,e,r=this.map.id,i=this.depExports,n=this.exports,o=this.factory;if(this.inited){if(this.error)this.emit("error",this.error);else if(!this.defining){this.defining=!0;if(this.depCount<1&&!this.defined){if(isFunction(o)){if(this.events.error&&this.map.isDefine||req.onError!==defaultOnError)try{n=d.execCb(r,o,i,n)}catch(e){t=e}else n=d.execCb(r,o,i,n);this.map.isDefine&&void 0===n&&((e=this.module)?n=e.exports:this.usingExports&&(n=this.exports));if(t){t.requireMap=this.map;t.requireModules=this.map.isDefine?[this.map.id]:null;t.requireType=this.map.isDefine?"define":"require";return k(this.error=t)}}else n=o;this.exports=n;if(this.map.isDefine&&!this.ignore){m[r]=n;if(req.onResourceLoad){var s=[];each(this.depMaps,function(e){s.push(e.normalizedMap||e)});req.onResourceLoad(d,this.map,s)}}A(r);this.defined=!0}this.defining=!1;if(this.defined&&!this.defineEmitted){this.defineEmitted=!0;this.emit("defined",this.exports);this.defineEmitComplete=!0}}}else hasProp(d.defQueueMap,r)||this.fetch()}},callPlugin:function(){var u=this.map,c=u.id,e=_(u.prefix);this.depMaps.push(e);M(e,"defined",bind(this,function(e){var o,t,r,i=getOwn(v,this.map.id),n=this.map.name,s=this.map.parentMap?this.map.parentMap.name:null,a=d.makeRequire(u.parentMap,{enableBuildCallback:!0});if(this.map.unnormalized){e.normalize&&(n=e.normalize(n,function(e){return y(e,s,!0)})||"");M(t=_(u.prefix+"!"+n,this.map.parentMap),"defined",bind(this,function(e){this.map.normalizedMap=t;this.init([],function(){return e},null,{enabled:!0,ignore:!0})}));if(r=getOwn(l,t.id)){this.depMaps.push(t);this.events.error&&r.on("error",bind(this,function(e){this.emit("error",e)}));r.enable()}}else if(i){this.map.url=d.nameToUrl(i);this.load()}else{(o=bind(this,function(e){this.init([],function(){return e},null,{enabled:!0})})).error=bind(this,function(e){this.inited=!0;(this.error=e).requireModules=[c];eachProp(l,function(e){0===e.map.id.indexOf(c+"_unnormalized")&&A(e.map.id)});k(e)});o.fromText=bind(this,function(e,t){var r=u.name,i=_(r),n=useInteractive;t&&(e=t);n&&(useInteractive=!1);S(i);hasProp(g.config,c)&&(g.config[r]=g.config[c]);try{req.exec(e)}catch(e){return k(makeError("fromtexteval","fromText eval for "+c+" failed: "+e,e,[c]))}n&&(useInteractive=!0);this.depMaps.push(i);d.completeLoad(r);a([r],o)});e.load(u.name,a,o,g)}}));d.enable(e,this);this.pluginMaps[e.id]=e},enable:function(){(p[this.map.id]=this).enabled=!0;this.enabling=!0;each(this.depMaps,bind(this,function(e,t){var r,i,n;if("string"==typeof e){e=_(e,this.map.isDefine?this.map:this.map.parentMap,!1,!this.skipMap);this.depMaps[t]=e;if(n=getOwn(c,e.id)){this.depExports[t]=n(this);return}this.depCount+=1;M(e,"defined",bind(this,function(e){if(!this.undefed){this.defineDep(t,e);this.check()}}));this.errback?M(e,"error",bind(this,this.errback)):this.events.error&&M(e,"error",bind(this,function(e){this.emit("error",e)}))}r=e.id;i=l[r];hasProp(c,r)||!i||i.enabled||d.enable(e,this)}));eachProp(this.pluginMaps,bind(this,function(e){var t=getOwn(l,e.id);t&&!t.enabled&&d.enable(e,this)}));this.enabling=!1;this.check()},on:function(e,t){var r=this.events[e];r||(r=this.events[e]=[]);r.push(t)},emit:function(e,t){each(this.events[e],function(e){e(t)});"error"===e&&delete this.events[e]}};function s(e){hasProp(m,e[0])||S(_(e[0],null,!0)).init(e[1],e[2])}function o(e,t,r,i){e.detachEvent&&!isOpera?i&&e.detachEvent(i,t):e.removeEventListener(r,t,!1)}function a(e){var t=e.currentTarget||e.srcElement;o(t,d.onScriptLoad,"load","onreadystatechange");o(t,d.onScriptError,"error");return{node:t,id:t&&t.getAttribute("data-requiremodule")}}function P(){var e;O();for(;h.length;){if(null===(e=h.shift())[0])return k(makeError("mismatch","Mismatched anonymous define() module: "+e[e.length-1]));s(e)}d.defQueueMap={}}(d={config:g,contextName:u,registry:l,defined:m,urlFetched:n,defQueue:h,defQueueMap:{},Module:e,makeModuleMap:_,nextTick:req.nextTick,onError:k,configure:function(e){e.baseUrl&&"/"!==e.baseUrl.charAt(e.baseUrl.length-1)&&(e.baseUrl+="/");if("string"==typeof e.urlArgs){var r=e.urlArgs;e.urlArgs=function(e,t){return(-1===t.indexOf("?")?"?":"&")+r}}var i=g.shim,n={paths:!0,bundles:!0,config:!0,map:!0};eachProp(e,function(e,t){if(n[t]){g[t]||(g[t]={});mixin(g[t],e,!0,!0)}else g[t]=e});e.bundles&&eachProp(e.bundles,function(e,t){each(e,function(e){e!==t&&(v[e]=t)})});if(e.shim){eachProp(e.shim,function(e,t){isArray(e)&&(e={deps:e});!e.exports&&!e.init||e.exportsFn||(e.exportsFn=d.makeShimExports(e));i[t]=e});g.shim=i}e.packages&&each(e.packages,function(e){var t;t=(e="string"==typeof e?{name:e}:e).name;e.location&&(g.paths[t]=e.location);g.pkgs[t]=e.name+"/"+(e.main||"main").replace(currDirRegExp,"").replace(jsSuffixRegExp,"")});eachProp(l,function(e,t){e.inited||e.map.unnormalized||(e.map=_(t,null,!0))});(e.deps||e.callback)&&d.require(e.deps||[],e.callback)},makeShimExports:function(t){return function(){var e;t.init&&(e=t.init.apply(global,arguments));return e||t.exports&&getGlobal(t.exports)}},makeRequire:function(o,s){s=s||{};function a(e,t,r){var i,n;s.enableBuildCallback&&t&&isFunction(t)&&(t.__requireJsBuild=!0);if("string"==typeof e){if(isFunction(t))return k(makeError("requireargs","Invalid require call"),r);if(o&&hasProp(c,e))return c[e](l[o.id]);if(req.get)return req.get(d,e,o,a);i=_(e,o,!1,!0).id;return hasProp(m,i)?m[i]:k(makeError("notloaded",'Module name "'+i+'" has not been loaded yet for context: '+u+(o?"":". Use require([])")))}P();d.nextTick(function(){P();(n=S(_(null,o))).skipMap=s.skipMap;n.init(e,t,r,{enabled:!0});j()});return a}mixin(a,{isBrowser:isBrowser,toUrl:function(e){var t,r=e.lastIndexOf("."),i=e.split("/")[0];if(-1!==r&&(!("."===i||".."===i)||1<r)){t=e.substring(r,e.length);e=e.substring(0,r)}return d.nameToUrl(y(e,o&&o.id,!0),t,!0)},defined:function(e){return hasProp(m,_(e,o,!1,!0).id)},specified:function(e){e=_(e,o,!1,!0).id;return hasProp(m,e)||hasProp(l,e)}});o||(a.undef=function(r){O();var e=_(r,o,!0),t=getOwn(l,r);t.undefed=!0;w(r);delete m[r];delete n[e.url];delete i[r];eachReverse(h,function(e,t){e[0]===r&&h.splice(t,1)});delete d.defQueueMap[r];if(t){t.events.defined&&(i[r]=t.events);A(r)}});return a},enable:function(e){getOwn(l,e.id)&&S(e).enable()},completeLoad:function(e){var t,r,i,n=getOwn(g.shim,e)||{},o=n.exports;O();for(;h.length;){if(null===(r=h.shift())[0]){r[0]=e;if(t)break;t=!0}else r[0]===e&&(t=!0);s(r)}d.defQueueMap={};i=getOwn(l,e);if(!t&&!hasProp(m,e)&&i&&!i.inited){if(!(!g.enforceDefine||o&&getGlobal(o)))return E(e)?void 0:k(makeError("nodefine","No define call for "+e,null,[e]));s([e,n.deps||[],n.exportsFn])}j()},nameToUrl:function(e,t,r){var i,n,o,s,a,u,c=getOwn(g.pkgs,e);c&&(e=c);if(u=getOwn(v,e))return d.nameToUrl(u,t,r);if(req.jsExtRegExp.test(e))s=e+(t||"");else{i=g.paths;for(o=(n=e.split("/")).length;0<o;o-=1)if(a=getOwn(i,n.slice(0,o).join("/"))){isArray(a)&&(a=a[0]);n.splice(0,o,a);break}s=n.join("/");s=("/"===(s+=t||(/^data\:|^blob\:|\?/.test(s)||r?"":".js")).charAt(0)||s.match(/^[\w\+\.\-]+:/)?"":g.baseUrl)+s}return g.urlArgs&&!/^blob\:/.test(s)?s+g.urlArgs(e,s):s},load:function(e,t){req.load(d,e,t)},execCb:function(e,t,r,i){return t.apply(i,r)},onScriptLoad:function(e){if("load"===e.type||readyRegExp.test((e.currentTarget||e.srcElement).readyState)){interactiveScript=null;var t=a(e);d.completeLoad(t.id)}},onScriptError:function(e){var r=a(e);if(!E(r.id)){var i=[];eachProp(l,function(e,t){0!==t.indexOf("_@r")&&each(e.depMaps,function(e){if(e.id===r.id){i.push(t);return!0}})});return k(makeError("scripterror",'Script error for "'+r.id+(i.length?'", needed by: '+i.join(", "):'"'),e,[r.id]))}}}).require=d.makeRequire();return d}function getInteractiveScript(){if(interactiveScript&&"interactive"===interactiveScript.readyState)return interactiveScript;eachReverse(scripts(),function(e){if("interactive"===e.readyState)return interactiveScript=e});return interactiveScript}}(this);